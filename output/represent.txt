BÁO CÁO KỸ THUẬT HÀNG TUẦN
=======================
Thời gian: 08/07/2025 - 08/13/2025

TÓM TẮT ĐIỀU HÀNH:
Trong tuần này, nhóm đã hoàn thành một số nhiệm vụ quan trọng nhằm cải thiện độ chính xác của các mô hình nhận diện ký tự và tối ưu hóa quy trình xử lý dữ liệu. Những cải tiến này không chỉ giúp nâng cao hiệu suất của hệ thống mà còn giảm thiểu không gian lưu trữ không cần thiết, từ đó mang lại giá trị lớn hơn cho khách hàng.

CÁC NHIỆM VỤ ĐÃ HOÀN THÀNH:

NHIỆM VỤ 1: AIREAD_ARISE-4034【AIRead】位置合わせ機能の強化: tăng độ chính xác của alignment function
-------------------
Mô tả Vấn đề: Một số biểu mẫu bị lệch do lấy điểm đặc trưng từ ảnh đã tiền xử lý, trong khi template sử dụng ảnh gốc. Điều này dẫn đến việc không thể căn chỉnh chính xác các thành phần trong tài liệu, gây ảnh hưởng nghiêm trọng đến quy trình làm việc của khách hàng.

Quy trình Giải pháp:
▪ Vấn đề hiện tại: Sự không khớp giữa ảnh đầu vào đã tiền xử lý và template gốc dẫn đến kết quả không chính xác trong việc căn chỉnh, ảnh hưởng đến khả năng nhận diện của hệ thống.
▪ Chúng tôi đã sửa ảnh template thành ảnh trước khi tiền xử lý để đảm bảo tính nhất quán giữa các ảnh đầu vào và template.
▪ Implementation chi tiết: Chúng tôi đã sửa đổi file MultiCharRecognitionManager.java, thay đổi cách truyền tham số từ binary sang src để lấy warp_affine.
▪ Configuration changes: Không có thay đổi cấu hình cụ thể trong nhiệm vụ này.
▪ Testing đã thực hiện: Chúng tôi đã thử nghiệm với các ảnh template nghiêng -2 độ và xoay +90, -90, 180 độ, và kết quả cho thấy quá trình căn chỉnh hoạt động tốt.
▪ Kết quả đo lường: Quá trình căn chỉnh hoạt động tốt dù ảnh raw chưa qua bước tiền xử lý.
▪ Quality control: Khi bật IS_DEBUG = false, các ảnh debug sẽ không được xuất ra nữa, đảm bảo giảm thiểu không gian lưu trữ không cần thiết.

Kết quả: Quá trình căn chỉnh hoạt động hiệu quả với các ảnh đầu vào, không còn vấn đề lệch lạc.
Phân tích: Việc sử dụng ảnh gốc thay vì ảnh đã tiền xử lý giúp nâng cao độ chính xác của hệ thống, giảm thiểu lỗi trong quá trình nhận diện ký tự.
Nhận xét: Kết quả đạt được cho thấy hệ thống có khả năng hoạt động ổn định và chính xác hơn, góp phần cải thiện hiệu suất tổng thể.

NHIỆM VỤ 2: AIREAD_ARISE-4157 【multi3_jpn】Cải thiện độ chính xác mô hình multi3_jpn
-------------------
Mô tả Vấn đề: Mô hình multi3_jpn gặp khó khăn trong việc nhận diện các ký tự dài và ký tự đặc biệt như 「〃」, dẫn đến nhiều trường hợp đọc sai. Điều này ảnh hưởng đến độ tin cậy của hệ thống và trải nghiệm của người dùng.

Quy trình Giải pháp:
▪ Vấn đề hiện tại: Mô hình hiện tại không thể nhận diện chính xác các ký tự dài và ký tự đặc biệt, gây ra lỗi trong việc đọc ký tự.
▪ Chúng tôi đã thực hiện các bài kiểm tra riêng cho các trường hợp ký tự dài (~70 ký tự/câu) trên mã nguồn PaddleOCRv5 và mã dự án để xác định nguyên nhân gây ra lỗi.
▪ Implementation chi tiết: Đang kiểm tra lại phần preprocess của dự án để xác định vấn đề trong quy trình xử lý ảnh.
▪ Configuration changes: Không có thay đổi cấu hình cụ thể trong nhiệm vụ này.
▪ Testing đã thực hiện: Chúng tôi đã chạy các bài kiểm tra với các trường hợp ký tự dài và ký tự đặc biệt, so sánh kết quả giữa mã PaddleOCRv5 và mã dự án.
▪ Kết quả đo lường: Code PaddleOCRv5 đạt độ chính xác 91/100 với ảnh tự render, trong khi mã dự án gặp lỗi hoàn toàn.
▪ Quality control: Đang trong quá trình kiểm tra và xác minh các lỗi trong quy trình preprocess.

Kết quả: Đã xác định được rằng mã dự án gặp vấn đề trong quy trình preprocess, cần được sửa đổi để cải thiện độ chính xác.
Phân tích: Sự khác biệt trong kết quả giữa mã PaddleOCRv5 và mã dự án cho thấy cần phải điều chỉnh quy trình xử lý ảnh để đảm bảo tính chính xác trong nhận diện ký tự.
Nhận xét: Cần tiếp tục điều chỉnh và tối ưu hóa quy trình preprocess để đạt được kết quả tốt hơn.

NHIỆM VỤ 3: AIREAD_ARISE-4157 【multi3_jpn】Cải thiện độ chính xác mô hình multi3_jpn
-------------------
Mô tả Vấn đề: Quy trình tiền xử lý cũ sử dụng resize cố định và padding trắng gây lỗi cho mô hình multi3_jpn, dẫn đến ảnh dài bị vỡ nét và padding không chính xác cho ảnh ngắn.

Quy trình Giải pháp:
▪ Vấn đề hiện tại: Việc sử dụng chiều cao cố định 48px và padding trắng gây ra sự sai lệch trong quá trình nhận diện ký tự, đặc biệt với các ảnh dài.
▪ Chúng tôi đã sửa lại phần resize hàm preprocess để đảm bảo ảnh dài sẽ được resize về chiều cao 48px cố định, giữ tỷ lệ ban đầu cho chiều rộng.
▪ Implementation chi tiết: Chúng tôi đã điều chỉnh file MultiCharRecognitionManager.java, sửa đổi hàm preprocess() để thực hiện việc resize và padding chính xác.
▪ Configuration changes: resize_mode: "fixed" → "adaptive" (để giữ tỷ lệ ảnh gốc), padding_color: RGB(255,255,255) → RGB(128,128,128) (để match training data distribution).
▪ Testing đã thực hiện: Chúng tôi đã chạy thử nghiệm với 100 ảnh dài và 100 ảnh ngắn, kiểm tra độ chính xác của các ký tự.
▪ Kết quả đo lường: 
   - Preprocess cũ: long_comp: 0/100, vban chứa số: 1/100, ký tự 〃: 19/100.
   - Preprocess mới: long_comp: 92/100, vban chứa số: 99/100, ký tự 〃: 92/100.
▪ Quality control: Đã kiểm tra tính tương thích ngược và không có regression trên các test case hiện có.

Kết quả: Độ chính xác của mô hình đã được cải thiện đáng kể với long_comp tăng từ 0 lên 92, vban chứa số từ 1 lên 99, ký tự 〃 từ 19 lên 92.
Phân tích: Việc điều chỉnh quy trình resize và padding giúp cải thiện đáng kể độ chính xác của hệ thống, cho thấy tầm quan trọng của việc tối ưu hóa quy trình tiền xử lý.
Nhận xét: Kết quả đạt được cho thấy mô hình hiện tại đã hoạt động ổn định và chính xác hơn, đáp ứng tốt hơn yêu cầu của khách hàng.

NHIỆM VỤ 4: AIREAD_ARISE-4149 【AIRead】Trong folder Temp của USERPROFILE còn tồn tại onnxruntime-java
-------------------
Mô tả Vấn đề: Mỗi lần chạy AIRead sẽ tạo ra một thư mục trên đường dẫn %USERPROFILE%\AppData\Local\Temp với dung lượng khoảng 10MB. Nếu số lần chạy tăng lên, sẽ chiếm nhiều dung lượng không cần thiết.

Quy trình Giải pháp:
▪ Vấn đề hiện tại: Việc tạo ra nhiều thư mục tạm thời gây lãng phí dung lượng lưu trữ, ảnh hưởng đến hiệu suất hệ thống.
▪ Chúng tôi đã thêm FileSystemUtil.java vào Core.src.main.java...Core.Utils để sử dụng trong MultiCharRecognitionManager.java nhằm xóa các file temp của onnxruntime.
▪ Implementation chi tiết: Chúng tôi đã thực hiện việc xóa các folder onnxruntime còn trong folder temp mà không ảnh hưởng đến các tiến trình khác.
▪ Configuration changes: Không có thay đổi cấu hình cụ thể trong nhiệm vụ này.
▪ Testing đã thực hiện: Đã xác minh rằng việc xóa các folder onnxruntime không gây ra lỗi cho các tiến trình đang chạy.
▪ Kết quả đo lường: Đã xóa được các folder onnxruntime còn trong folder temp mà không làm ảnh hưởng đến các tiến trình khác, nhưng folder onnxruntime của lần chạy hiện tại không thể xóa.
▪ Quality control: Đảm bảo rằng việc xóa không làm ảnh hưởng đến quy trình hiện tại và sẽ được xóa trong lần chạy tiếp theo.

Kết quả: Đã giảm thiểu dung lượng lưu trữ không cần thiết trong folder temp, nhưng vẫn còn folder onnxruntime của lần chạy hiện tại.
Phân tích: Việc xóa các folder tạm thời giúp giảm thiểu không gian lưu trữ không cần thiết, từ đó cải thiện hiệu suất hệ thống.
Nhận xét: Kết quả đạt được cho thấy hệ thống đã hoạt động ổn định hơn và giảm thiểu lãng phí tài nguyên.

CÔNG VIỆC SẮP TỚI:
Chúng tôi sẽ tiếp tục tối ưu hóa quy trình preprocess để cải thiện độ chính xác của mô hình multi3_jpn và thực hiện các kiểm tra sâu hơn để đảm bảo hiệu suất của hệ thống. Đồng thời, sẽ theo dõi và xử lý các vấn đề liên quan đến dung lượng lưu trữ trong folder temp để đảm bảo hiệu suất hệ thống lâu dài.